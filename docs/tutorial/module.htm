<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>VASSAL Tutorial - Board Game</title>
             
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
</head>
  <body>
       
<div align="left"><small><b><a href="programming.htm"></a></b></small>   
<h1>  
<center><a
 href="index.htm">VASSAL 
Tutorials</a></center>
  </h1>
  <br>
   
<div align="center"><small><b>Board Game</b> | <a
 href="cardGame.htm">Card 
Game</a> | <a
 href="doubleBlind.htm">Double-Blind</a>
 | <a
 href="programming.htm">Programming</a></small></div>
 
<hr width="100%" size="2"><br>
<div align="center"><small><a href="#maps">Maps, Boards, and Grids</a> |
<a href="#counters">Counters</a> | <a href="#extensions">Module Extensions</a></small><br>
</div>
<br>
  </div>
 
<div align="left">  </div>
   
<center></center>
   
<center></center>
  In this tutorial, we will go through the steps for making a VASSAL module 
 for a fictitious board game called Zap Wars.&nbsp; The module data is in 
the ZapWarsData directory and the final module is ZapWars.mod <br>
   
<p> </p>
   
<h2><a name="maps"></a>Maps, Boards, and Grids</h2>
 
<p><b></b> </p>
   
<p>Zap Wars includes a strategic-level component and a tactical-level component. 
 Each of these will be represented with by a Map Window in VASSAL. VASSAL 
modules come with one Map Window by default, and we will make this the tactical 
map. Double-click on the Map Window component in the Configure Module window 
and name the Map "Tactical Display". &nbsp;Give the map a horizontal and vertical
padding of 150. &nbsp;This gives the window some blank space around the grid
where players can line up their reinforcing ships before they join the battle.
&nbsp;The map will have a black background, so we should choose a different
border color for highlighting selected pieces. &nbsp;Hit the "Select" button
and choose a green color. &nbsp;The Tactical map isn't the main playing area.
&nbsp;It's only needed when the strategic situation dictates a battle. &nbsp;So
we'll check the "Include toolbar button to show/hide" option. &nbsp; Type
"Tac" for the button name. &nbsp;Place your cursor in the "Hotkey" field
and hit CTRL-SHIFT-T. &nbsp;Now notice that the main control window has a
"Tac" button. When you start a game, the button will become enabled and hitting
CTRL-SHIFT-T will bring up the Tactical window.<br>
 </p>
 
<p>A Map Window contains one of more boards. Without boards, it's just a blank
background. &nbsp;Open the Tactical Display component, right-click on the
Map Boards component and select "Add Board". &nbsp;Name the board "Tactical
grid". &nbsp;We'll want the grid to be 41x41 square with each square being
50 pixels on a side. &nbsp;We need one extra pixel to draw the complete grid
so choose 2051x2051 as the size. &nbsp;Set the background color to black.<br>
 <br>
 Most games use a grid to regulate movement. &nbsp;Rather than constructing 
a map cell-by-cell. &nbsp;VASSAL defines a complete board and then imposes 
a grid on top of it. &nbsp;Expand the Map Boards component, right-click on 
the Tactical Grid component and select "Add Rectangular Grid" &nbsp;Choose 
50 for the width/height and 25 for the x/y offset. &nbsp;Check the "Show Grid"
box and select white for the color.<br>
 </p>
 
<p>Finally, we can assign a numbering scheme to the grid. &nbsp;Right-click 
on the Rectangular Grid component and select "Add Grid Numbering" &nbsp;The 
numbering dialog gives you many options for assigning a numbering scheme to
the grid. &nbsp;The numbering scheme is used when reporting the movement of
units, but it can also be drawn directly on the grid. &nbsp;In Zap Wars, the
tactical grid cells are numbered x,y with 0,0 in the center. &nbsp;We choose
',' for the separator, -20 for the horizontal/vertical starting number, 0
leading zeros, and Numerical (as opposed to Alphabetic) numbering. &nbsp;Check 
the "Draw Numbering" box and select white for the color.<br>
 </p>
 
<p>Congratulations! &nbsp;You've defined your first VASSAL Map. &nbsp;Now 
select File-&gt;New Game in the controls window. &nbsp;The "Tac" button becomes 
highlighted, and pushing it will show the Tactical Display window. &nbsp;The 
window has a toolbar with one button in it, a camera that lets you capture 
the entire map to a graphics file in PNG format. (A simple screen capture 
wouldn't do, since the map is probably too big to fit entirely on your screen.) 
&nbsp;This option can take a while to complete, but can be handy. &nbsp;Exporting 
a blank grid like this is a good way to get a base grid if you're drawing 
your own map by hand.<br>
 </p>
 
<div align="center"><img src="images/tacticalMap.gif" alt="" width="480"
 height="338">
 <br>
  </div>
    
<p><br>
 The main playing area for Zap Wars is the strategic map plus a Tension track. 
&nbsp;For both of these, we'll use pre-defined artwork. &nbsp;The ZapWarsData 
folder contains a Strategic.gif and a TensionTrack file. &nbsp;Right-click 
on the Zap Wars module component in the editing window and select "Add Map 
Window." Name the window "Strategic Display". Again set the border highlight 
color to green. &nbsp;This time, we'll leave the "Include Toolbar" button 
unchecked. &nbsp;This will cause the Strategic map window to always be visible 
during a game. &nbsp;We'll also check the "Can contain multiple boards" box.<br>
 </p>
 
<p>The Strategic map and Tension Track will each be a separate board that 
are combined in the window. &nbsp;Expand the Strategic Display component, 
right-click on the Map Boards component, and select "Add Board". &nbsp;For 
the board image, hit the "Select" button and select the Strategic.gif file. 
&nbsp;Do the same for a second board and the TensionTrack.gif file.<br>
 </p>
 
<p>The Strategic and Tension Track boards have map grids included in their 
artwork. &nbsp;We will still add grids to them to regulate placement of units, 
but we will leave the "Show Grid" boxes unchecked. &nbsp;The Strategic board 
grid takes a hex grid with x offset 33, y offset 22, hex height 40. &nbsp;The 
Tension Track takes a rectangular grid with x/y offset 20 and width/height 
40. &nbsp;In practice, you'll want to check the "Show Grid" box and start 
a new game in order to tweak the values of the grid to correspond with the 
artwork and then uncheck the "Show Grid" box when they're correct.</p>
 
<p>In the main map window, the Tension Track should go above the strategic 
map. &nbsp;Double-click on the Map Boards component of the Strategic Display 
component and hit the "Select Default Board Setup" button. &nbsp;You'll get 
a dialog for arranging the boards in the window. &nbsp;Hit the "Add Row" button
to place two boards on top of one another. &nbsp;In the top slot, select
the Tension Track board from the drop-down menu, and select the Strategic 
board in the second slot.</p>
 
<p></p>
 
<div align="center"><img src="images/chooseStrategicBoards.gif" alt=""
 width="273" height="225">
 <br>
 
<div align="left">Now, whenever a new game is started, the Strategic Display 
window will come up with these two boards. &nbsp;If you don't select any default
board setup (by hitting the "Clear" button, then the Choose Boards dialog
will be shown to the player when starting a new game.<br>
 <br>
 
<div align="center"><img src="images/strategicMap.gif" alt="">
 <br>
 
<div align="left"><br>
 That completes the definition of the maps in our Zap Wars module. &nbsp;During 
play, players will drag pieces from the Strategic display to the Tactical 
display to complete their battles, then drag them back to the Strategic display 
when finished.<br>
 
<hr width="100%" size="2"><br>
 
<h2><a name="counters"></a>Counters</h2>
 VASSAL gives you two ways to use game pieces in a game. &nbsp;A Game Piece 
Palette is a window organized with tabs and menus from which you may drag 
an unlimited number of each kind of piece onto a map. &nbsp;A Deck is a fixed 
pool of counters from which players may draw (in order or randomly) such that
each piece is removed from the Deck once drawn by a player. &nbsp;We will
use a Game Piece Palette for this tutorial. &nbsp;You'll find artwork for
the counters in the ZapWarsData folder</div>
 </div>
 </div>
 </div>
 
<p><b></b> </p>
    
<ul>
     
</ul>
  <b>Game Piece Palette Structure:</b> &nbsp;By default, each module is configured
with a single Game Piece Palette. &nbsp;First, we'll define its basic structure
of the Game Piece Palette. &nbsp;We'll create two tabs: &nbsp;one for each
side, the Fuzzy Creatures and the Flesh-Eating Zombies. &nbsp;The Fuzzies
tab will have two different pieces while the Zombies tab will have a scrollable
list of different pieces. &nbsp;Double-click on the Game Piece Palette component
and enter "Zap Warriors" for the name. &nbsp;This will be the name of the
window containing the pieces. &nbsp;Right-click on the Zap Warriors component
and select "Add Tabbed Pane." The name of the Tabbed Panel can be ignored.
Right-click on the new Tabbed Panel component and select "Add Panel". Set
the name to Fuzzies and the number of cells to 2. Right-click again on the
Tabbed Panel and select "Add Scrollable List," naming it "Zombies." Now push
the "Zap Warriors" button in the controls window toolbar to see the window.<br>
<p>  &nbsp;   
<table border="1" cols="2" width="100%">
   <tbody>
      <tr>
   <td><img src="images/configWin2.gif" nosave="" border="0"
 height="317" width="296" alt="">
        </td>
    <td><img src="images/palette.gif" nosave="" border="0" height="134"
 width="186" alt="">
        </td>
   </tr>
         
  </tbody>  
</table>
    </p>
    
<p><b>A Basic Piece: &nbsp;</b>The simplest piece in VASSAL consists of a 
single image. Right-click on the "Fuzzies" panel component and select "Add 
Single Piece." You'll be presented with VASSAL's dialog for building Game 
Pieces. Double-click on "Basic Piece" in the "Current Traits" list on the 
right.&nbsp; Set the Piece name to "Base". Double click on the box and select 
"FuzzyBase.gif" in the tutorial directory. Hit "Ok" at the bottom and you'll 
see the piece appear in the "Fuzzies" tab. &nbsp;The FuzzyBase.gif image uses
transparency to give it a shape other than a square.  </p>
    
<p><b>Rotation: &nbsp;</b>VASSAL lets you design your pieces by selecting 
from a list of traits. &nbsp;Each piece will have only the traits you need. 
&nbsp;One of the most common traits is the ability to rotate. Right-click 
on the "Fuzzies" panel node and select "Add Single Piece" again. This time 
we'll add the warship, which has multiple facings. Set the name to "Warship." 
In the "Basic Piece" properties, select "FuzzyShip.gif" as the base image.&nbsp; 
Now select "Can Rotate" in the "Available Traits" and hit the "Add" button 
to add that trait to the piece.&nbsp;  Let's suppose that the game allows 
8 possible facings on the square tactical  grid.&nbsp; Fill in that number 
for the number of allowable facings and leave the other fields unchanged. 
</p>
   
<p>You can test your counters without having to drag them onto a map.&nbsp; 
 In the main piece definition dialog, you can right-click on the counter at
the top of the window to bring up the piece's popup menu, or select the piece
and type.&nbsp; You can do the same with the piece in the Game Piece Palette.
When you select the Fuzzy warship and type CTRL-] and CTRL-[, the piece will
rotate clockwise and counterclockwise. </p>
   
<p> </p>
   
<p><b>Layers: &nbsp;</b>Layers are the most common way of adding functionality 
to a piece in VASSAL. &nbsp;A Layer is a set of images drawn on top of the 
basic piece. &nbsp;The user can turn on/off the images and cycle through them
with key commands. &nbsp;The Zombie base has two states: &nbsp;normal and
Undead. &nbsp;Right-click on the Zombies scrollable list component and select
"Add Single Piece." &nbsp;This time, leave the Basic Piece properties unchanged.
&nbsp;Select "Layer" from the available traits and hit the "Add" button.
&nbsp;Each image that can be cycled through in a Layer is called a Level.
&nbsp;We need two levels: &nbsp;one for each state. &nbsp;One of the two
levels will always be drawn, so select the "Always active" box. &nbsp;Pick 
"ZombieBase.gif" for Image 1, then hit the "Add Level" button and select "ZombieBaseUndead.gif"
for Image 2. &nbsp;The Increase/Decrease commands are what the players use
to cycle through the levels. &nbsp;Since there are only to levels, we don't
need both commands. &nbsp;Change the "Increase" command to "Undead" and the
key to CTRL-U. &nbsp;Now when players select a Zombie base and hit CTRL-U,
the base will toggle between its normal and Undead states. &nbsp;If we set
the name of level 2 to "Undead" and check the "is prefix" button, &nbsp;then
when the Undead level is activated, the name of the piece (used in autoreporting
moves) will be "Undead Zombie Base" rather than simply "Zombie Base."<br>
 </p>
 
<p align="center"><img src="images/zombieBaseLayer.gif" alt=""
 width="962" height="185">
 <br>
 </p>
 
<p> </p>
   
<p><b>Advanced Layers:</b> &nbsp;When a Zombie unit is in its Undead state, 
it can activate its Undeath Ray, directed either up, down, or to either side. 
&nbsp;We'll add a second Layer to the Zombie Base to represent the Undeath 
Ray. &nbsp;Select "Layer" again from the list of available traits and hit 
the "Add" button. &nbsp;Give the Layer four levels using the images RayN.gif, 
RayE.gif, RayS.gif, and RayW.gif. &nbsp;Note that these images also use transparency 
to offset the depiction from the center of the counter. &nbsp;The Increase/Decrease 
commands will change the facing of the ray. &nbsp;Set the "Increase" command 
name to "Rotate Ray CW" and the "Decrease" command name to "Rotate Ray CCW." 
&nbsp;Set the keys to CTRL-X/CTRL-Z so as not to conflict with the commands 
to rotate the ship. &nbsp;The Activate command will show or hide the depiction, 
so we set the "Activate" command name to "Undeath Ray." &nbsp;For the Activate 
key command, a simple CTRL-R would toggle the depiction on/off whenever the 
player selected the counter and typed CTRL-R. &nbsp;We can instead specify 
that the layer can only be activated in the Undead state by specifying the 
key to be CTRL-RU, which means that the player must type both CTRL-U (which 
we have also named as the key to activate the Undead status layer) and CTRL-R 
to activate the layer.<br>
 </p>
 
<p></p>
 
<div align="center"><img src="images/zombieBaseLayer2.gif" alt=""
 width="1038" height="237">
 <br>
 </div>
 
<p><b></b> </p>
   
<p><b>Copy/Paste:</b>&nbsp; The Zombie Warship looks similar to the Base except
that the ship can change facing. &nbsp;You can save a lot of time defining
counter by usingC the Copy/Paste commands in the edit window. &nbsp;Right-click 
on the Zombie Base component and select "Copy" then right-click on the Zombies 
scrollable list component and select "Paste." &nbsp;Now we need only edit 
the copy and change a few things. &nbsp;Edit the Basic Piece properties and 
change the name to "Zombie Warship". &nbsp;Edit the properties of the first 
Layer, select "Image 1," double-click on the image, and select the ZombieWarship.gif 
file.<br>
 </p>
 
<p><b>Partial Rotation:</b> The order of traits in a piece is important. &nbsp;Generally,
a trait can modify only those other traits that appear before it in the list.
&nbsp; Edit the Zombie Warship and add a "Can Rotate" trait. &nbsp;Then select
it and push the "Move Up" button until it is between the two Layer traits.
&nbsp;This will make the Zombie Warship depiction rotate without making the
Undeath Ray depiction rotate. <br>
 </p>
 
<p><b>Invisibility and Masking:</b> &nbsp;The "Can be Invisible" trait allows 
a player to completely hide a counter from another player. &nbsp;The Mask
trait allows one player to hide details of a counter from another player.
&nbsp;The Zombie Minefield will make use of both of these traits. &nbsp;Add
another Single Piece to the Zombies component. &nbsp;Leave the Basic Piece
image blank and set the name to Minefield. &nbsp;Add a Layer with 3 levels,
using the mine6.gif, mine8.gif, and mine12.gif images. &nbsp;Add a "Mask"
trait. &nbsp;Set the Mask command to "Reveal" and the key to CTRL-R. &nbsp;Set
the "view when masked" to the mine.gif image. &nbsp;The fuzzy player will
see only this image until the minefield is revealed. &nbsp;The display option
determines how the Zombie player will see the counter. &nbsp;We'll select
the Inset style, which displays the masked image in the upper left corner
as a reminder to the Zombie player that the piece is not revealed. &nbsp;Finally,
add the Can be Invisible trait. &nbsp;When activated, the counter will be
completely invisible to the Fuzzy player. &nbsp;The zombie player will see
a transparent version of the piece against a colored background. &nbsp;Select
black for the background color. &nbsp;The Zombie player can make the piece
invisible and masked in the Game Piece Palette before dragging it onto the
map.<br>
 </p>
 
<hr width="100%" size="2">
<h2><a name="extensions"></a>Module Extensions<br>
</h2>
<p>We continue with a demonstration of how to create optional module extensions.
&nbsp;Assuming you have named your module file "ZapWars.mod" when saving
it, then VASSAL will look in a folder named "ZapWars_ext" for extensions
automatically when loading a module for play. &nbsp;Begin by creating the
ZapWars_ext folder in the same location as the ZapWar.mod file.<br>
</p>
<p>You may only edit one module or one extension at a time, so if you are
still running VASSAL, exit and restart. &nbsp;Hit the "Load Module" button
and select ZapWars.mod. &nbsp;The module will be loaded as if you were playing
it. &nbsp;Now hit the "New" button in the "Extensions" panel. &nbsp;You will
get an editing window just like when editing a module. &nbsp;The difference
is that you may not modify any components in the original module. &nbsp;You
may only add new components.<br>
</p>
<p>The extension we will define adds planetary terrain. &nbsp;Save the extension
to a file named "terrain.mdx" in the ZapWars_ext folder. &nbsp;Our extension
adds a new tab to the Game Piece Palette containing some new kinds of pieces.
&nbsp;Right-click on the Tabbed Panel component and add a new scrollable
list named "Terrain." &nbsp;Right-click on the Terrain component and add
a new piece. &nbsp;In the Basic Piece properties, name it "Asteroid" and
select "asteroid.gif" for the image.<br>
</p>
<p><b>Non-stacking pieces:</b> Our terrain markers should naturally not form
stacks with other pieces, so we will add the "Does not Stack" trait to the
Asteroid piece. &nbsp;Since the terrain markers also do not generally move
once placed, we will select the "Use shift/click to move/select" option.
&nbsp;This allows player to move them but prevents them from doing so inadvertently.<br>
</p>
<p><b>Spreadsheets:</b> &nbsp;Copy/Paste the Asteroid to a new piece. &nbsp;Name
it "Planet" and use "planet.gif" for the Basic Piece image. &nbsp;Planets
have extra bookkeeping information attached to them, for which we'll use
the Spreadsheet trait. &nbsp;Set the command to "Planetary Data" using CTRL-D.
&nbsp;Set the number of columns to 2 and the number of rows to 3. &nbsp;Save
the Spreadsheet trait properties and then select the planet and hit CTRL-D.
&nbsp;You'll see a new window with the spreadsheet data. &nbsp;Any values
you type here will become the initial values whenever anybody drags a new
planet onto a map. &nbsp;We'll just fill in the first column with header
values: &nbsp;Atmosphere, Resources, Coffin Capacity.<br>
</p>
<hr width="100%" size="2">
<h2>Conclusion </h2>
   
<p>Included in the tutorial directory is the finished module, ZapWars.mod,
which  you can compare to the one you've created.&nbsp; We've gone into a
few of the advanced features of VASSAL modules, but there are many more to
explore. &nbsp;Enjoy!</p>
<br>
  <br>
  <br>
 <br>
</body>
</html>
