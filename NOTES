The VASSAL Team is happy to announce the release of VASSAL 3.1.6, which
fixes several problems found in earlier versions.

*********************
Download
*********************

For Linux:

  http://downloads.sourceforge.net/vassalengine/VASSAL-3.1.6-linux.tar.bz2

For Mac OS X:

  http://downloads.sourceforge.net/vassalengine/VASSAL-3.1.6-macosx.dmg

For Windows:

  http://downloads.sourceforge.net/vassalengine/VASSAL-3.1.6-windows.exe

For other operating systems:

  http://downloads.sourceforge.net/vassalengine/VASSAL-3.1.6-other.zip

Source code:

  http://downloads.sourceforge.net/vassalengine/VASSAL-3.1.6-src.zip


*********************
Changes since 3.1.0
*********************

The following bugs are fixed in 3.1.6:

* Bug 2798275: Layer following prop does not allow non-string custom props
* Bug 2794703: StackOverflow using Embellishment level following property
* Bug 2793103: Memory check fails on Linux due to architecture mismatch
* Bug: Transparent images used for orthogonal rotations of opaque sources
* Bug: Incorrect PropertySource used to evaluate properties
* Bug: Use bounds for primary screen on multi-monitor X11 systems.

The following bugs are fixed in 3.1.5:

* Bug 2786932: MemoryUtils.getPhysicalMemory() fails on PPC Linux
* Bug 2787242: Layer tracking Property - Report Action lags on PieceName
* Bug 2787134: NPE during map scrolling due to off-EDT Swing calls
* Bug 2785328: ImageIO fails to read size of JPEGs with bad color profiles 
* Bug 2784636: NPE in MapShader.buildTexture()
* Bug 2766794: Expanded Stack of 2 pieces collapses when arrow keys used
* Bug 2659577: ImageSaver paints Boards with no background black
* Bug: Accidentally rejecting perfectly valid mask images in ADC2 symbol sets
* Bug: CounterDetailViewer calls Swing methods off EDT
* Bug: CounterDetailViewer should not appear during piece drags

* Image scaling is now 35% faster.
* Map-edge autoscrolling is now smoother and more responsive.

The following bugs are fixed in 3.1.4:

* Bug 2731738: Memory test fails on Windows 98, Windows ME
* Bug 2721306: IllegalArgumentException in PanelWidget.getLayout()
* Bug 2718948: v3.0+ DoesNotStack trait bug
  - Replace Crtl-Shift-Click Selection filter with Alt-Click selection filter
  - Allow Alt-lasso to select Alt-click selection filter units
  - Allow Ctrl-lasso to deselect Does Not Stack units.
  - Double-click on Does Not Stack units causes selection status to toggle
* Bug 2696618: ImageSaver fails when map has nonpositive dimensions
* Bug: Bind to loopback ports only to avoid collisions and firewall problems
* Bug: Module Manager fails to start if port in prefs is already in use
* Bug: Race condition when setting Module Manager port and key
* Bug: GUI calls by Module Manager server executed off the EDT
* Bug: Memory test inaccurate on Linux
* Bug: Deadlock when Module Manager is closed before children
* Bug: Java 1.5 ImageIO fails to load PNGs with iTXt chunks

The following bugs are fixed in 3.1.3:

* Bug 2721276: Illegal Heap sizes crashing startup
* Bug 2706019: Too few parameters for socket failure dialog
* Bug 2703991. Mask dimensions in ADC2 symset files are stupid
* Bug 2698781: Cannot switch to English if PC Locale is non-English
* Bug 2680395: Error in Maximum Heap calculation and check
* Bug 2665174: NPE due to no default UI font
* Bug 2580669: Module-specific exception classes cannot be logged
* Bug 2372121: Race condition causes truncated errorLogs in bug reports
* Bug: 8-bit PNGs with 1-bit alpha have bad transparency 
* Bug: HTML help folders with more than one file cannot be opened
* Bug: close() on a pipe closed from the other end will throw IOException

The following bugs are fixed in 3.1.2:

* Bug 2690874: No Moved button if no text specified

The following bugs are fixed in 3.1.1:

* Bug 2689040: StringIndexOutOfBoundsException inviting peer2peer players
* Bug 2688226: NPE Adding Preference
* Bug 2687265: NPE in SendToLocation
* Bug 2687178: Mark unmoved button appears even if icon set to null
* Bug 2686890: Turn Counter does not respond to Hotkeys when undocked
* Bug 2686888: Turn Counter always increments/decrements by 1
* Bug 2685559: NPE in Embellishment.getMatchingActivationChar()
* Bug 2684931: ClassCastException when loading module
* Bug 2672959: Old Java fails to read PNGs with small palettes
* Bug 2676355: Bug Dialog sometimes hangs over other modal dialogs
* Bug 2673589: ImageIO throws IllegalArgumentException reading bad mages
* Bug 2665747: NPE in MovementReporter reporting Drag & Drop move
* Bug 2658210: OutOfMemoryError in Importer should not generate Bug Dialog
* Bug 2653477: ArrayIndexOutOfBoundsException in Embellishment.getLocalized
* Bug 2630529: NPE in ModuleManager displaying newly added module info
* Bug 2432256: ArrayIndexOutOfBoundsException in Embellishment

The recommended minimum Java version for VASSAL 3.1 has changed. A bug in
versions of Java prior to 1.5.0_08 (a.k.a. Java 5 update 8) prevents some
images from loading properly. We now recommend that anyone using a version
of Java older than 1.5.0_08 upgrade to *at least* 1.5.0_08.

For Linux and Mac users, this should require no action on your part. Windows
users installing VASSAL 3.1.6 with the Windows installer will be prompted to
update Java if what they have is older than 1.5.0_08.

For feature changes from 3.0 to 3.1, see the release notes for 3.1.0.

Please report all bugs, even if they are bugs which you've already reported
against other versions. We take your bug reports very seriously---they're
the reason we're able to find and fix bugs.


*********************
Help us test
*********************

Should you find any problems/oddities/bugs, please tell us so that we can
fix them for the next release of VASSAL.

Report bugs here in the Technical Support & Bugs category at the VASSAL
forums:

http://vassalengine.org/forums/viewforum.php?f=3

or by email to uckelman@nomic.net.


Cheers,

Joel Uckelman, for The VASSAL Team
